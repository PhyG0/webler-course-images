<?xml version="1.0" encoding="UTF-8"?>
<svg width="620" height="175" viewBox="0 0 620 175" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <marker id="arrW" markerWidth="7" markerHeight="7" refX="5" refY="3" orient="auto">
                    <path d="M0,0 L0,6 L7,3 z" fill="#aaa" />
                </marker>
            </defs>
            <text x="310" y="20" fill="#ffffff" font-size="13" font-weight="bold" text-anchor="middle">How clipSegment
                Works</text>

            <!-- Plane line -->
            <line x1="220" y1="40" x2="220" y2="155" stroke="#ff4466" stroke-width="2" stroke-dasharray="5,3" />
            <text x="220" y="33" fill="#ff4466" font-size="11" text-anchor="middle">clip plane</text>
            <text x="145" y="155" fill="#888" font-size="10" text-anchor="middle">outside (d &lt; 0)</text>
            <text x="390" y="155" fill="#888" font-size="10" text-anchor="middle">inside (d ≥ 0)</text>

            <!-- Case 1: both inside -->
            <text x="400" y="58" fill="#ccc" font-size="10">Case: both inside → keep both</text>
            <circle cx="240" cy="70" r="5" fill="#00ff88" />
            <circle cx="500" cy="70" r="5" fill="#00ff88" />
            <line x1="240" y1="70" x2="500" y2="70" stroke="#00ff88" stroke-width="2" />
            <text x="240" y="62" fill="#00ff88" font-size="9" text-anchor="middle">p0 ✓</text>
            <text x="500" y="62" fill="#00ff88" font-size="9" text-anchor="middle">p1 ✓</text>

            <!-- Case 2: one outside, one inside → intersection -->
            <text x="400" y="105" fill="#ccc" font-size="10">Case: one outside → compute intersection</text>
            <circle cx="100" cy="118" r="5" fill="#ff4466" />
            <circle cx="440" cy="118" r="5" fill="#00ff88" />
            <line x1="100" y1="118" x2="440" y2="118" stroke="#888" stroke-width="1.5" stroke-dasharray="4,3" />
            <circle cx="220" cy="118" r="5" fill="#ffffff" />
            <line x1="220" y1="118" x2="440" y2="118" stroke="#00ff88" stroke-width="2.5" />
            <text x="100" y="110" fill="#ff4466" font-size="9" text-anchor="middle">p0 ✗</text>
            <text x="440" y="110" fill="#00ff88" font-size="9" text-anchor="middle">p1 ✓</text>
            <text x="220" y="110" fill="#ffffff" font-size="9" text-anchor="middle">lerp(t)</text>
        </svg>